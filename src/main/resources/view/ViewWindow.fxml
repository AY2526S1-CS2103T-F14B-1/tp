<?xml version="1.0" encoding="UTF-8"?>

<?import java.net.URL?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.Scene?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.stage.Stage?>

<fx:root title="View Contact" type="javafx.stage.Stage"
         minWidth="500" minHeight="600" maxWidth="800"
         xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1">
    <icons>
        <Image url="@/images/view_window_icon.png" />
    </icons>
    <scene>
        <Scene>
            <stylesheets>
                <URL value="@ViewWindow.css" />
            </stylesheets>

            <ScrollPane styleClass="root scroll-pane" fx:id="scrollPane" fitToWidth="true">
                <VBox spacing="15" style="-fx-padding: 20;">
                    <padding>
                        <Insets top="10" right="15" bottom="10" left="15"/>
                    </padding>

                    <!-- Name label -->
                    <HBox alignment="CENTER">
                        <Label fx:id="nameLabel" text="Full Name" styleClass="label-bright"
                               maxWidth="Infinity" alignment="CENTER" />
                    </HBox>

                    <Separator/>

                    <!-- Personal Information Section (for all contacts) -->
                    <VBox fx:id="personalInfoSection" spacing="8">
                        <Label fx:id="personalInfoHeader" text="Personal Information" styleClass="label-header"/>

                        <HBox spacing="10">
                            <Label text="Tags: " styleClass="field-label"/>
                            <FlowPane fx:id="tags" />
                        </HBox>

                        <HBox spacing="10">
                            <Label fx:id="classText" text="Class: " styleClass="field-label"/>
                            <Label fx:id="classLabel" styleClass="data-label"/>
                        </HBox>

                        <HBox spacing="10">
                            <Label text="Birthday: " styleClass="field-label"/>
                            <Label fx:id="birthdayLabel" styleClass="data-label"/>
                        </HBox>

                        <!-- Contact fields that will be shown for non-students -->
                        <VBox fx:id="contactFieldsForNonStudents" spacing="8" visible="false">
                            <HBox spacing="10">
                                <Label text="Personal Phone:" styleClass="field-label"/>
                                <Label fx:id="phoneLabel" styleClass="data-label"/>
                            </HBox>
                            <HBox spacing="10">
                                <Label text="Personal Email:" styleClass="field-label"/>
                                <Label fx:id="emailLabel" styleClass="data-label"/>
                            </HBox>
                            <HBox spacing="10">
                                <Label text="Address:" styleClass="field-label"/>
                                <Label fx:id="addressLabel" wrapText="true" styleClass="data-label"/>
                            </HBox>
                        </VBox>
                    </VBox>

                    <!-- Separate Contact Information Section (for students only) -->
                    <VBox fx:id="contactInfoSection" spacing="8">
                        <Label fx:id="contactInfoHeader" text="Emergency Contact" styleClass="label-header"/>
                        <HBox spacing="10">
                            <Label fx:id="phoneText" text="Phone:" styleClass="field-label"/>
                            <Label fx:id="phoneLabelStudent" styleClass="data-label"/>
                        </HBox>
                        <HBox spacing="10">
                            <Label fx:id="emailText" text="Email:" styleClass="field-label"/>
                            <Label fx:id="emailLabelStudent" styleClass="data-label"/>
                        </HBox>
                        <HBox spacing="10">
                            <Label text="Address:" styleClass="field-label"/>
                            <Label fx:id="addressLabelStudent" wrapText="true" styleClass="data-label"/>
                        </HBox>
                    </VBox>

                    <Separator/>

                    <!-- Notes Section -->
                    <VBox spacing="8">
                        <Label text="Notes" styleClass="label-header"/>
                        <TextArea fx:id="notesArea" editable="false" wrapText="true" prefRowCount="4"
                                  styleClass="result-display" />
                    </VBox>

                    <Separator/>

                    <!-- Attendance Section -->
                    <VBox fx:id="attendanceSection" spacing="8">
                        <Label text="Attendance" styleClass="label-header"/>
                        <VBox fx:id="attendanceContainer" spacing="5"/>
                    </VBox>
                </VBox>
            </ScrollPane>
        </Scene>
    </scene>
</fx:root>
